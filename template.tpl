___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "OKSpin E-Commerce",
  "brand": {
    "id": "github.com_okspin",
    "displayName": "okspin",
    "thumbnail": "data:image/jpeg;base64,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OACAQEIcAEAgIQ4AIJAQBwAQSIgDAAgkxAEABBLiAAACCXEAAIGEOACAQEIcAEAgIQ4AIJAQBwAQSIgDAAgkxAEABBLiAAACCXEAAIGEOACAQEIcAEAgIQ4AIJAQBwAQSIgDAAgkxAEABBLiAAACCXEAAIGEOACAQEIcAEAgIQ4AIJAQBwAQSIgDAAgkxAEABBLiAAACCXEAAIGEOACAQEIcAEAgIQ4AIJAQBwAQSIgDAAgkxAEABBLiAAACCXEAAIGEOACAQEIcAEAgIQ4AIJAQBwAQSIgDAAgkxAEABBLiAAACCXEAAIGEOACAQEIcAEAgIQ4AIJAQBwAQSIgDAAgkxAEABBLiAAACCXEAAIGEOACAQEIcAEAgIQ4AIJAQBwAQSIgDAAgkxAEABBLiAAACCXEAAIGEOACAQEIcAEAgIQ4AIJAQBwAQSIgDAAgkxAEABBLiAAACCXEAAIGEOACAQEIcAEAgIQ4AIJAQBwAQSIgDAAgkxAEABBLiAAACCXEAAIGEOACAQEIcAEAgIQ4AIJAQBwAQSIgDAAgkxAEABBLiAAACCXEAAIGEOACAQEIcAEAgIQ4AIJAQBwAQSIgDAAgkxAEABBLiAAACCXEAAIGEOACAQEIcAEAgIQ4AIJAQBwAQSIgDAAgkxAEABBLiAAACCXEAAIGEOACAQEIcAEAgIQ4AIJAQBwAQSIgDAAgkxAEABBLiAAACCXEAAIGEOACAQEIcAEAgIQ4AIJAQBwAQSIgDAAgkxAEABBLiAAACCXEAAIGEOACAQEIcAEAgIQ4AIJAQBwAQSIgDAAgkxAEABBLiAAACCXEAAIGEOACAQEIcAEAgIQ4AIJAQBwAQSIgDAAgkxAEABBLiAAACCXEAAIGEOACAQEIcAEAgIQ4AIJAQBwAQSIgDAAgkxAEABBLiAAACCXEAAIGEOACAQEIcAEAgIQ4AIJAQBwCQZrFY/H+5Lrs2ycoTzwAAAABJRU5ErkJggg\u003d\u003d"
  },
  "description": "OKSpin",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "advAppId",
    "displayName": "OKSpin Advertiser App ID",
    "simpleValueType": true,
    "help": "Enter here the OKSpin Advertiser App ID. For any questions, contact your Account Manager."
  },
  {
    "type": "CHECKBOX",
    "name": "enhancedEcomm",
    "checkboxText": "Use Enhanced Ecommerce",
    "simpleValueType": true,
    "help": "Select this option if you have a Google Enhance Ecommerce data layer installed on your site. When this option is selected, the required parameters will be collected from the data layer."
  },
  {
    "type": "SELECT",
    "name": "eventType",
    "displayName": "Event Type",
    "macrosInSelect": false,
    "selectItems": [
      {
        "value": "EVENT_ADD_PAYMENT_INFO",
        "displayValue": "EVENT_ADD_PAYMENT_INFO"
      },
      {
        "value": "EVENT_ADD_TO_CART",
        "displayValue": "EVENT_ADD_TO_CART"
      },
      {
        "value": "EVENT_BUTTON_CLICK",
        "displayValue": "EVENT_BUTTON_CLICK"
      },
      {
        "value": "EVENT_PURCHASE",
        "displayValue": "EVENT_PURCHASE"
      },
      {
        "value": "EVENT_CONTENT_VIEW",
        "displayValue": "EVENT_CONTENT_VIEW"
      },
      {
        "value": "EVENT_DOWNLOAD",
        "displayValue": "EVENT_DOWNLOAD"
      },
      {
        "value": "EVENT_FORM_SUBMIT",
        "displayValue": "EVENT_FORM_SUBMIT"
      },
      {
        "value": "EVENT_INITIATED_CHECKOUT",
        "displayValue": "EVENT_INITIATED_CHECKOUT"
      },
      {
        "value": "EVENT_CONTACT",
        "displayValue": "EVENT_CONTACT"
      },
      {
        "value": "EVENT_PLACE_ORDER",
        "displayValue": "EVENT_PLACE_ORDER"
      },
      {
        "value": "EVENT_SEARCH",
        "displayValue": "EVENT_SEARCH"
      },
      {
        "value": "EVENT_COMPLETE_REGISTRATION",
        "displayValue": "EVENT_COMPLETE_REGISTRATION"
      },
      {
        "value": "EVENT_ADD_TO_WISHLIST",
        "displayValue": "EVENT_ADD_TO_WISHLIST"
      },
      {
        "value": "EVENT_SUBSCRIBE",
        "displayValue": "EVENT_SUBSCRIBE"
      },
      {
        "value": "EVENT_FIRST_DEPOSIT",
        "displayValue": "EVENT_FIRST_DEPOSIT"
      },
      {
        "value": "EVENT_CREDIT_APPROVAL",
        "displayValue": "EVENT_CREDIT_APPROVAL"
      },
      {
        "value": "EVENT_LOAN_APPLICATION",
        "displayValue": "EVENT_LOAN_APPLICATION"
      },
      {
        "value": "EVENT_LOAN_CREDIT",
        "displayValue": "EVENT_LOAN_CREDIT"
      },
      {
        "value": "EVENT_LOAN_DISBURSAL",
        "displayValue": "EVENT_LOAN_DISBURSAL"
      },
      {
        "value": "EVENT_CREDIT_CARD_APPLICATION",
        "displayValue": "EVENT_CREDIT_CARD_APPLICATION"
      },
      {
        "value": "EVENT_KEY_INAPP_EVENT",
        "displayValue": "EVENT_KEY_INAPP_EVENT"
      },
      {
        "value": "EVENT_KEY_INAPP_EVENT_1",
        "displayValue": "EVENT_KEY_INAPP_EVENT_1"
      },
      {
        "value": "EVENT_KEY_INAPP_EVENT_2",
        "displayValue": "EVENT_KEY_INAPP_EVENT_2"
      },
      {
        "value": "EVENT_KEY_INAPP_EVENT_3",
        "displayValue": "EVENT_KEY_INAPP_EVENT_3"
      },
      {
        "value": "EVENT_AD_VIEW",
        "displayValue": "EVENT_AD_VIEW"
      },
      {
        "value": "EVENT_AD_CLICK",
        "displayValue": "EVENT_AD_CLICK"
      }
    ],
    "simpleValueType": true,
    "enablingConditions": [
      {
        "paramName": "enhancedEcomm",
        "paramValue": false,
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "SELECT",
    "name": "eventType_enhanced",
    "displayName": "Event Type",
    "macrosInSelect": false,
    "selectItems": [
      {
        "value": "ADD_TO_CART",
        "displayValue": "Add To Cart"
      },
      {
        "value": "PRODUCT_VIEW",
        "displayValue": "Product View"
      },
      {
        "value": "REMOVE_FROM_CART",
        "displayValue": "Remove From Cart"
      },
      {
        "value": "PURCHASE",
        "displayValue": "Purchase"
      },
      {
        "value": "CHECKOUT",
        "displayValue": "Checkout"
      }
    ],
    "simpleValueType": true,
    "enablingConditions": [
      {
        "paramName": "enhancedEcomm",
        "paramValue": true,
        "type": "EQUALS"
      }
    ]
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

// Require necessary APIs
const log = require("logToConsole");
const injectScript = require("injectScript");
const encodeUriComponent = require("encodeUriComponent");
const copyFromDataLayer = require("copyFromDataLayer");
const getType = require("getType");
const copyFromWindow = require("copyFromWindow");
let _okTag = copyFromWindow("_okTag") || [];

const accountId = data.advAppId;

// Build the payload for the _okTag call
const params = {};

const mapEnProducts = (products) => {
  return products.map((i) => {
    return {
      pid: i.id,
      q: i.quantity,
      p: i.price,
      a: 1,
    };
  });
};

const mapProducts = (products) => {
  return products.map((i) => {
    return {
      pid: i.id,
      q: i.quantity,
      p: i.price,
      a: 1,
    };
  });
};

log("event enhancedEcomm :" + data.enhancedEcomm);

if (data.enhancedEcomm) {
  const ecomm = copyFromDataLayer("ecommerce") || {};
  log("enhancedevent:",data.eventType_enhanced);
  if (
    data.eventType_enhanced === "PRODUCT_VIEW" &&
    ecomm.hasOwnProperty("detail") &&
    getType(ecomm.detail.products) === "array"
  ) {
    let items = mapEnProducts(ecomm.detail.products);
    params.data = {};
    params.data.items = items;
    params.eid = "4";
    params.type = "event";
  }
  if (
    data.eventType_enhanced === "ADD_TO_CART" &&
    ecomm.hasOwnProperty("add") &&
    getType(ecomm.add.products) === "array"
  ) {
    let items = mapEnProducts(ecomm.add.products);
    params.data = {};
    params.data.items = items;
    params.eid = "5";
    params.type = "event";
  }
  if (
    data.eventType_enhanced === "PURCHASE" &&
    ecomm.hasOwnProperty("purchase")
  ) {
    let items = mapEnProducts(ecomm.purchase.products);
    params.data = {};
    params.data.items = items;
    params.data.tranId = ecomm.purchase.actionField.id;
    params.eid = "8";
    params.type = "event";
  }
  if (
    data.eventType_enhanced === "REMOVE_FROM_CART" &&
    ecomm.hasOwnProperty("remove") &&
    getType(ecomm.remove.products) === "array"
  ) {
    let items = mapEnProducts(ecomm.remove.products);
    params.data = {};
    params.data.items = items;
    // params.items = mapEnProducts(ecomm.remove.products);
    params.eid = "10";
  }
  if (
    data.eventType_enhanced === "CHECKOUT" &&
    ecomm.hasOwnProperty("checkout")
  ) {
    if (!ecomm.checkout.products) {
      return; // when the checkout step doesn't have products data
    }
    let items = mapEnProducts(ecomm.checkout.products);
    params.data = {};
    params.data.items = items;
    params.eid = "10";
  }
  // log("enhancedevent params eid" + params.eid);
} else {
  const event = copyFromDataLayer("event") || {};

  const eventModel = copyFromDataLayer("eventModel") || {};

  log("eventModel:" + eventModel);

  if (
    data.eventType === "EVENT_ADD_PAYMENT_INFO"
  ) {
    params.data = eventModel;
    params.eid = "EVENT_ADD_PAYMENT_INFO";
    params.type = "event";
  }

  if (
    data.eventType === "EVENT_ADD_TO_CART" 
  ) {
    params.data = eventModel;
    params.eid = "EVENT_ADD_TO_CART";
    params.type = "event";
  }

  if (
    data.eventType === "EVENT_BUTTON_CLICK"
  ) {
    params.data = eventModel;
    params.eid = "EVENT_BUTTON_CLICK";
    params.type = "event";
  }

  if (
    data.eventType === "EVENT_PURCHASE"
  ) {
    params.data = eventModel;
    params.eid = "EVENT_PURCHASE";
    params.type = "event";
  }

  if (
    data.eventType === "EVENT_CONTENT_VIEW"
  ) {
    params.data = eventModel;
    params.eid = "EVENT_CONTENT_VIEW";
    params.type = "event";
  }

  if (
    data.eventType === "EVENT_DOWNLOAD"
  ) {
    params.data = eventModel;
    params.eid = "EVENt_DOWNLOAD";
    params.type = "event";
  }
  
  if (
    data.eventType === "EVENT_FORM_SUBMIT" 
  ) {
    params.data = eventModel;
    params.eid = "EVENT_FORM_SUBMIT";
    params.type = "event";
  }

  if (
    data.eventType === "EVENT_INITIATED_CHECKOUT"
  ) {
    params.data = eventModel;
    params.eid = "EVENT_INITIATED_CHECKOUT";
    params.type = "event";
  }

  if (
    data.eventType === "EVENT_CONTACT"
  ) {
    params.data = eventModel;
    params.eid = "EVENT_CONTACT";
    params.type = "event";
  }

  if (
    data.eventType === "EVENT_PLACE_ORDER"
  ) {
    params.data = eventModel;
    params.eid = "EVENT_PLACE_ORDER";
    params.type = "event";
  }

  if (
    data.eventType === "EVENT_SEARCH"
  ) {
    params.data = eventModel;
    params.eid = "EVENT_SEARCH";
    params.type = "event";
  }

  if (
    data.eventType === "EVENT_COMPLETE_REGISTRATION"
  ) {
    params.data = eventModel;
    params.eid = "EVENT_COMPLETE_REGISTRATION";
    params.type = "event";
  }

  if (
    data.eventType === "EVENT_ADD_TO_WISHLIST"
  ) {
    params.data = eventModel;
    params.eid = "EVENT_ADD_TO_WISHLIST";
    params.type = "event";
  }

  if (
    data.eventType === "EVENT_SUBSCRIBE"
  ) {
    params.data = eventModel;
    params.eid = "EVENT_SUBSCRIBE";
    params.type = "event";
  }

  if (
    data.eventType === "EVENT_FIRST_DEPOSIT" 
  ) {
    params.data = eventModel;
    params.eid = "EVENT_FIRST_DEPOSIT";
    params.type = "event";
  }
  
  if (
    data.eventType === "EVENT_CREDIT_APPROVAL"
  ) {
    params.data = eventModel;
    params.eid = "EVENT_CREDIT_APPROVAL";
    params.type = "event";
  }

  if (
    data.eventType === "EVENT_LOAN_APPLICATION"
  ) {
    params.data = eventModel;
    params.eid = "EVENT_LOAN_APPLICATION";
    params.type = "event";
  }

  if (
    data.eventType === "EVENT_LOAN_CREDIT"
  ) {
    params.data = eventModel;
    params.eid = "EVENT_LOAN_CREDIT";
    params.type = "event";
  }

  if (
    data.eventType === "EVENT_LOAN_DISBURSAL" 
  ) {
    params.data = eventModel;
    params.eid = "EVENT_LOAN_DISBURSAL";
    params.type = "event";
  }

  if (
    data.eventType === "EVENT_CREDIT_CARD_APPLICATION" 
  ) {
    params.data = eventModel;
    params.eid = "EVENT_CREDIT_CARD_APPLICATION";
    params.type = "event";
  }

  if (
    data.eventType === "EVENT_KEY_INAPP_EVENT"
  ) {
    params.data = eventModel;
    params.eid = "EVENT_KEY_INAPP_EVENT";
    params.type = "event";
  }

  if (
    data.eventType === "EVENT_KEY_INAPP_EVENT_1"
  ) {
    params.data = eventModel;
    params.eid = "EVENT_KEY_INAPP_EVENT_1";
    params.type = "event";
  }

  if (
    data.eventType === "EVENT_KEY_INAPP_EVENT_2"
  ) {
    params.data = eventModel;
    params.eid = "EVENT_KEY_INAPP_EVENT_2";
    params.type = "event";
  }

  if (
    data.eventType === "EVENT_KEY_INAPP_EVENT_3" 
  ) {
    params.data = eventModel;
    params.eid = "EVENT_KEY_INAPP_EVENT_3";
    params.type = "event";
  }

  if (
    data.eventType === "EVENT_AD_VIEW"
  ) {
    params.data = eventModel;
    params.eid = "EVENT_AD_VIEW";
    params.type = "event";
  }

  if (
    data.eventType === "EVENT_AD_CLICK"
  ) {
    params.data = eventModel;
    params.eid = "EVENT_AD_CLICK";
    params.type = "event";
  }

  log("event params eid " + params.eid);
}



if (params) {
  _okTag.push(params);
}

// Load the OksTag script if not already loaded
injectScript(
  "https://s.oksp.in/js/tag.js?aa=" + encodeUriComponent(accountId),
  data.gtmOnSuccess,
  data.gtmOnFailure,
  "_oks_tag_script"
);


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "_okTag"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "read_data_layer",
        "versionId": "1"
      },
      "param": [
        {
          "key": "allowedKeys",
          "value": {
            "type": 1,
            "string": "specific"
          }
        },
        {
          "key": "keyPatterns",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "ecommerce.*"
              },
              {
                "type": 1,
                "string": "eventModel.*"
              },
              {
                "type": 1,
                "string": "event.*"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://s.oksp.in/js/tag.js*"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 02/12/2025, 4:15:59 PM


